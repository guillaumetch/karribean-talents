{% extends 'back/dashboard.html.twig' %}
{% block title %}
    Arts
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/app/material.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/datatable.css') }}">
{% endblock %}
{% block body %}
    {% block menu %}
        {{ parent() }}
    {% endblock %}
    {% block content %}
        <main>
            <div class="row container">
                <div class="col l12 marg-t-5">
                    <div class="col l12 center-align">
                        <a class="btn green" href="{{ path('dashboard_art_create') }}">Ajouter un art</a>
                    </div>
                    <table id="datatable" class="mdl-data-table" cellspacing="0" width="100%">
                        <thead>
                        <tr>
                            <th>Libellé</th>
                            <th>Forme(s) d'art associée(s)</th>
                            <th>Crée le</th>
                            <th>Dernière modification</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    {% endblock %}
{% endblock %}
{% block lib_javascripts %}
    {{ parent() }}
{% endblock %}
{% block javascripts %}
<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/dataTables.material.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#datatable').DataTable( {
            responsive :true,
            data : {{ data |raw }},
            order:{'createAt':'DESC'},
            dom: 'rftp',
            "language": {
                "url": "{{ asset('bundles/app/lang/French.json') }}"
            },
            "columns": [
                {
                    "data": "libelle"
                },
                {
                    "data": "art_forms"
                },
                {
                    "data": "createAt"
                },
                {
                    "data": "updateAt"
                },
                {
                    "data": "actions",
                    "width": "15%"
                }
            ]
        } );
    } );
</script>
{% endblock %}